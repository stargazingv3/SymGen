Step 1
python scripts/decompilation/parallel_decomp.py \
    -s \
    --binary_path /app/binaries/windows_helloWorld \
    --ghidra_path analyzeHeadless \
    --project_path /app/ghidra_projects \
    --output_dir /app/results/decompiled_stripped

Step 2
python scripts/data_processing/process_decompiled_data.py -p \
    --stripped_path /app/results/decompiled_stripped \
    --output_dir /app/results/processed_for_prediction

Step 3
python scripts/data_processing/convert_to_prediction_format.py \
    --input_path /app/results/wannacry/processed_for_prediction \
    --output_dir /app/results/wannacry/prediction_format

Step 4
python scripts/model_training/batch_predict.py \
    --input_path /app/results/wannacry/prediction_format/wannacry.exe.json \
    --output_dir /app/results/wannacry/predictions \
    --base_model "codellama/CodeLlama-34b-Instruct-hf" \
    --lora_weights /app/lora_weights

Step 5
python /app/scripts/data_processing/map_predictions_to_functions.py \
  --ghidra_json /app/results/wannacry/decompiled_stripped/wannacry.exe.json \
  --predictions_json /app/results/wannacry/predictions/predictions.json \
  --output /app/results/wannacry/mapped_functions.json

Step 6
python /app/scripts/summary_generation/generate_function_summaries.py \
  --input_file /app/results/wannacry/mapped_functions.json \
  --output_file /app/results/wannacry/mapped_functions_with_summaries.json \
  --base_model "codellama/CodeLlama-34b-Instruct-hf" \
  --load_8bit True

Step 7
python /app/scripts/data_processing/generate_readable_output.py \
  --input /app/results/mapped_functions_with_summaries.json \
  --output /app/results/windows_helloWorld_analysis.txt \
  --binary_name "windows_helloWorld.exe"